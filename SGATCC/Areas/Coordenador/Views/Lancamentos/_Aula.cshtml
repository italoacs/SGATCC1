@model AulaViewModel;

<div class="card">
    <div class="card-header card-admin">
        <div class="card-title">
            Frequência
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>
    <div class="card-body">
        <form class="form-signin" asp-controller="Lancamentos" asp-action="LancarFrequencia" data-ajax="true"
              data-ajax-method="post"
              data-ajax-begin="LancarNotasBegin"
              data-ajax-success="LancarNotasSuccess"
              id="formLancarNotas">
            <input asp-for="DisciplinaId" hidden />
            <input asp-for="AlunoId" hidden />
            <div class="form-label-group">
                <label asp-for="Aula1"></label>
                <select asp-for="Aula1" class="form-control">
                    <option value="true">Presente</option>
                    <option value="false">Ausente</option>
                </select>
            </div>
            <br />
            <div class="form-label-group">
                <label asp-for="Aula2"></label>
                <select asp-for="Aula2" class="form-control">
                    <option value="true">Presente</option>
                    <option value="false">Ausente</option>
                </select>
            </div>
            <br />
            <div class="form-label-group">
                <label asp-for="Aula3"></label>
                <select asp-for="Aula3" class="form-control">
                    <option value="true">Presente</option>
                    <option value="false">Ausente</option>
                </select>
            </div>
            <br />
            <div class="form-label-group">
                <label asp-for="Aula4"></label>
                <select asp-for="Aula4" class="form-control">
                    <option value="true">Presente</option>
                    <option value="false">Ausente</option>
                </select>
            </div>
            <br />
            <button class="btn btn-lg btn-primary btn-block " type="submit">Lançar Frequência</button>
            <hr class="my-4">
        </form>
    </div>
</div>

<script>
    function LancarNotasBegin() {
        $('#formLancarNotas').loading();
    }

    function LancarNotasSuccess(xhr) {
        $('#formLancarNotas').loading('stop');
        if (!xhr.erro) {
            $('#PainelMensagem').removeClass('alert-danger');
            $('#PainelMensagem').addClass('alert-success');
            $('#Mensagem').html(xhr.msg);
            $('#PainelMensagem').show();
            $('#modal').modal('hide');
        } else {
            $('#PainelMensagem').removeClass('alert-success');
            $('#PainelMensagem').addClass('alert-danger');
            $('#Mensagem').html(xhr.msg);
            $('#PainelMensagem').show();
            $('#modal').modal('hide');
        }

        setTimeout(() => {
            $('#PainelMensagem').hide();
        },3000)
    }
</script>